## Frame of reference and Nomenclature

![mingo](https://github.com/cayesoneira/miniTRASGO-documentation/assets/21690353/f9801f0b-73a7-4bb7-98f7-d1948eaadc27)

## Geometry of the telescope

- 4 parallel square RPC detectors (fig. 1):
    - Active area: 30x30 cm
    - Three 2 mm thick glass panes separated by 1 mm thick nylon monofilaments (fig. 2).
    - Two gaps of 1mm each filled with gas Freon (R134a).
    - Top and bottom glass panes covered with semiconducting paint on the inside.
    - High voltage applied between the paint layers (positive / negative).
    - 4 metal strips cover each RPC on top (fig. 3):
        - Asymmetrical widths.
        - 2 outputs: front and back.
- Discrimination electronics on one corner
- Trigger, DAQ, Control and Monitoring electronics in box between detectors 1 and 2.
- High voltage power supply box between detectors 2 and 3.
- Independent Freon gas tank, injected with calibrated holes + flow-monitors in the output (mutom like) + common bubbler.

![image](https://github.com/cayesoneira/miniTRASGO/assets/21690353/0b2716cf-5745-44cd-9137-250d9f6d70d8)

_Figure 1_

---

![image](https://github.com/cayesoneira/miniTRASGO/assets/93153458/3c83d2de-22cb-4d7d-b89d-8f52a7710ed9)

_Figure 2_

---

![image](https://github.com/cayesoneira/miniTRASGO/assets/93153458/8e34e594-e490-4610-9654-66b07d65f65d)

_Figure 3_

---

## Electronics

General diagram: see fig. 5.

(MB: motherboard; DB: daighterboard; FEE: front-end electronics)

- Front-end electronics (FEE): Developed for the HADES detector (GSI).
    - Daughterboards (DB): the daughterboard includes in a Hidronav piece with all the components on one side the main electronics to turn the signal generated by the RPC into a LVDS (Low Voltage Differential signal). It has a discriminator, etc.
        - 4 input channels
        - Input: analog signal from the detector strips (MMCX connectors).
    - Motherboard (MB): the motherboard gives power from a special power source (the one that we only have one more piece of and Alberto handmaded one that is going to test) to the DBs and also communicates the DB signals to the TRB. That power source needs to have 20 W, but doubling it to 40 W is recommended to cover some errors that could kill the chips in the circuit in case the current stops flowing and the condensers still accumulate charge.
        - Output: square signal. Length proportional to charge deposited (32 pin connector).
- TRB3sc board [(Documentation)](http://jspc29.x-matter.uni-frankfurt.de/docu/trb3docu.pdf):
    - Trigger selection and signal digitization.
    - 32 TDCs
    - Inputs: square LVDS (low voltage differential signal) from the DABC boards (2x 16 pin connectors).
    - Outputs: digital timestamp and length of each square signal (USB).
- USB-ethernet board: allows the direct communication with the TRB even though the overall system is not connected to the internet. For example in the FEE test setup we do not have that web board so we need a router to connect TRB and PC aside to the internet and then one to another.
- ODroid Single Board Computer (SBC): General control and LAN communication.
- Solid State Drive (SSD): Data storage.
- High Voltage power supply:
    - Common for all detectors.
    - Software controlled.
    - Positive and negative voltages.
    - I2C protocol.
    - It has a low power consumption since it has only the basic control electronics and it gets the voltage from a fundamentally different way than usual sources (ask Alberto for more info).
- Enviroment sensors:
    - One inside the electronics box, one outside.
    - Temperature, atmospheric pressure, humidity.
    - I2C protocol.
- Flow meters:
    - Gas flow monitoring.
    - I2C protocol.
- Low voltage power supply for the electronics:
    - Input: 48 V
    - Outputs: 12 V, 30? V
- Watchdog: ensures the electronics are turned on continuously.

---

![image](https://github.com/cayesoneira/miniTRASGO/assets/93153458/95f912cf-b274-4cfb-8519-419436ef5dd8)

_Figure 4_

---

![image](https://github.com/cayesoneira/miniTRASGO/assets/21690353/86c4fdca-18d2-4233-8ca4-95511cd59bbe)

_Figure 5_

---

- Also important: mobile phones can actually interfere with miniTRASGO.

TRB only sends the information when its buffer is full. When the rate is very high this is not even noticeable, but when it is very low it could be that the buffer could take some seconds to be full: this will be relevant when setting the times, since the hlds will have times that are not very reliable. This can be seen in the DABC execution window (in the tmux), where the rate will be 0 for seconds, then suddenly get a slightly higer rate.
